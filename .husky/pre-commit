#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ” Running pre-commit quality checks..."

# Run lint-staged for staged files
npm run lint-staged

# Additional quality checks
echo "ğŸ“Š Running file size analysis..."
node scripts/check-file-sizes.js

echo "ğŸ” Checking for duplicate code..."
node scripts/check-duplicates.js

echo "ğŸ“¦ Checking for unused dependencies..."
npx depcheck --ignore-bin-package --skip-missing

echo "ğŸ§ª Running tests..."
npm test -- --bail --findRelatedTests

echo "âœ… All pre-commit checks passed!"